sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/m/MessageToast","../service/WebService","sap/ui/model/json/JSONModel"],function(e,t,o,s,i){let n;let a;let d="Add";"use strict";return e.extend("project1.controller.employeeMasterAddEdit",{onRouteMatched:function(e){let t=e.getParameter("arguments");this.id=decodeURIComponent(t.id);this.screenType=decodeURIComponent(t.screenType);var o=jQuery.sap.getModulePath("project1","/model/employeeMaster.json");var s=new sap.ui.model.json.JSONModel(o);this.getView().setModel(s,"EmployeeMasterModel");if(this.screenType=="edit"){let e=this.getView();e.byId("btnSave").setVisible(false);e.byId("btnUpdate").setVisible(true);e.byId("idInput").setEnabled(false);this.onEdit()}else{let e=this.getView();e.byId("idInput").setEnabled(true);e.byId("btnSave").setVisible(true);e.byId("btnUpdate").setVisible(false)}},onInit:function(){n=this;var e=t.getRouterFor(this);e.getRoute("RouteEmpMasterAddEdit").attachMatched(this.onRouteMatched,this)},onEdit:function(){s.getViewEmployeeAPI(this.id).then(function(e){if(e.code==200){var t=n.getView().getModel("EmployeeMasterModel");t.setData(e.data);n.getView().setModel(t,"EmployeeMasterModel")}console.log(e)})},onSave:function(){let e=this.getView().getModel("EmployeeMasterModel");let t=e.getData();let i={ID:t.ID,Name:t.Name,Age:t.Age,Salary:t.Salary};if(n.screenType=="Add"){s.postEmployee(i).then(function(e){if(e.code===200||e.code===201){o.show("Employee Created Successfully");setTimeout(function(){n.onNavBack()}.bind(this),500)}else{o.show(e.msg)}}).catch(function(e){o.show("Error: "+e.message)})}else{s.updateEmployee(i,this.id).then(function(e){if(e.code===200||e.code===201){o.show("Employee Updated Successfully");setTimeout(function(){n.onNavBack()}.bind(this),500)}else{o.show(e.msg)}}).catch(function(e){o.show("Error: "+e.message)})}},onNavBack:function(){const e=this.getOwnerComponent().getRouter();e.navTo("RouteEmpMaster",{},true)}})});
//# sourceMappingURL=employeeMasterAddEdit.controller.js.map
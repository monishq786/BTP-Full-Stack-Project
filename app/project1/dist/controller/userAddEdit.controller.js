sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/m/MessageToast","../service/WebService","sap/ui/model/json/JSONModel"],function(e,t,o,s,n){let r;let i;let a="Add";"use strict";return e.extend("project1.controller.userAddEdit",{onRouteMatched:function(e){let t=e.getParameter("arguments");this.id=decodeURIComponent(t.id);this.screenType=decodeURIComponent(t.screenType);var o=jQuery.sap.getModulePath("project1","/model/userMaster.json");var s=new sap.ui.model.json.JSONModel(o);this.getView().setModel(s,"UserMasterModel")},onInit:function(){r=this;var e=t.getRouterFor(this);e.getRoute("RouteUserMasterAddEdit").attachMatched(this.onRouteMatched,this)},onEdit:function(){s.getViewUserAPI(this.id).then(function(e){if(e.code==200){var t=r.getView().getModel("UserMasterModel");t.setData(e.data);r.getView().setModel(t,"UserMasterModel")}console.log(e)})},onSave:function(){let e=this.getView().getModel("UserMasterModel");let t=e.getData();let n={UserName:t.UserName,UserCode:t.UserCode,UserDepartment:t.UserDepartment};if(r.screenType=="Add"){s.postUser(n).then(function(e){if(e.code===200||e.code===201){o.show("Employee Created Successfully");setTimeout(function(){r.onNavBack()}.bind(this),500)}else{o.show(e.msg)}}).catch(function(e){o.show("Error: "+e.message)})}else{s.updateUser(n,this.id).then(function(e){if(e.code===200||e.code===201){o.show("Employee Updated Successfully");setTimeout(function(){r.onNavBack()}.bind(this),500)}else{o.show(e.msg)}}).catch(function(e){o.show("Error: "+e.message)})}},onNavBack:function(){const e=this.getOwnerComponent().getRouter();e.navTo("RouteEmpMaster",{},true)}})});
//# sourceMappingURL=userAddEdit.controller.js.map
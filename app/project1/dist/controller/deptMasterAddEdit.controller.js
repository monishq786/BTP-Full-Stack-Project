sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/m/MessageToast","../service/WebService","sap/ui/model/json/JSONModel"],function(e,t,o,s,n){let i;let d;let a="Add";"use strict";return e.extend("project1.controller.deptMasterAddEdit",{onRouteMatched:function(e){let t=e.getParameter("arguments");this.id=decodeURIComponent(t.id);this.screenType=decodeURIComponent(t.screenType);var o=jQuery.sap.getModulePath("project1","/model/deptMaster.json");var s=new sap.ui.model.json.JSONModel(o);this.getView().setModel(s,"DeptMasterModel");if(this.screenType=="edit"){let e=this.getView();e.byId("deptBtnSave").setVisible(false);e.byId("deptBtnUpdate").setVisible(true);this.onEdit()}else{let e=this.getView();e.byId("deptBtnSave").setVisible(true);e.byId("deptBtnUpdate").setVisible(false)}},onInit:function(){i=this;var e=t.getRouterFor(this);e.getRoute("RouteDeptMasterAddEdit").attachMatched(this.onRouteMatched,this)},onEdit:function(){s.getViewDeptAPI(this.id).then(function(e){if(e.code==200){var t=i.getView().getModel("DeptMasterModel");t.setData(e.data);i.getView().setModel(t,"DeptMasterModel")}console.log(e)})},onSave:function(){let e=this.getView().getModel("DeptMasterModel");let t=e.getData();let n={DepartmentName:t.DepartmentName,DepartmentCode:t.DepartmentCode};if(i.screenType=="Add"){s.postDept(n).then(function(e){if(e.code===200||e.code===201){o.show("Department Created Successfully");setTimeout(function(){i.onNavBack()}.bind(this),500)}else{o.show(e.msg)}}).catch(function(e){o.show("Error: "+e.message)})}else{s.updateDept(n,this.id).then(function(e){if(e.code===200||e.code===201){o.show("Department Updated Successfully");setTimeout(function(){i.onNavBack()}.bind(this),500)}else{o.show(e.msg)}}).catch(function(e){o.show("Error: "+e.message)})}},onNavBack:function(){const e=this.getOwnerComponent().getRouter();e.navTo("RouteDeptMaster",{},true)}})});
//# sourceMappingURL=deptMasterAddEdit.controller.js.map